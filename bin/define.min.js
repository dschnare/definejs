var define=function(n){"use strict";var f,e,r,i,t,u;return f=[].constructor,r=function(n){throw n;},i=function(){var n=[];return n.enqueue=function(n){this.push(n)},n.dequeue=function(){return this.shift()},n.peek=function(){return this[0]},n.isEmpty=function(){return this.length===0},n.clear=function(){while(this.length)this.pop()},n.toArray=function(){return this.slice()},n}(),t={util:{isArray:function(n){return{}.toString.call(n)==="[object Array]"},arrayIndexOf:function(n,t){if(!n)return-1;for(var r=n.length,i=0;i<r;i++)if(n[i]===t)return i;return-1},clone:function(){var n=function(n){return t.util.isArray(n)?"array":n===null?"null":n instanceof Date?"date":typeof n};return function(i){var e,r,f,u;e=n(i);switch(e){case"array":r=i.slice(),u=r.length;while(u--)r[u]=t.util.clone(r[u]);return r;case"object":r={};for(f in i)r[f]=t.util.clone(i[f]);return r;case"date":return new Date(i.getTime())}return i}}()},makePromise:function(){var t,n;return t=function(n){if(n)if(typeof n.complete=="function"&&typeof n.error=="function")return!0;return!1},n=function(){var n="unresolved",f=[],u=[],r,i;return i=function(t,i){var o,e,s;for(n=t,r=i,o=n==="resolved"?f:u,e=0,s=o.length;e<s;e++)try{o[e](r)}catch(h){}f=[],u=[]},{status:function(){return n},resolve:function(r){if(n==="unresolved")t(r)?(n="pending",r.complete(function(n){i("resolved",n)}),r.error(function(n){i("error",n)})):i("resolved",r);else throw new Error("Promise is already resolved.");},smash:function(t){n==="unresolved"&&i("error",t)},complete:function(t){return n==="resolved"?t(r):n!=="error"&&f.push(t),this},error:function(t){return n==="error"?t(r):n!=="resolved"&&u.push(t),this},promise:function(){return{complete:this.complete,error:this.error}}}},n.isPromise=t,n}(),makePromiseCollection:function(){var i=0,n,u,f,r=[];return u=function(t){i-=1,r.push(t),i===0&&(n.resolve(r),r=[])},f=function(t){i=0,n.smash(t)},n=t.makePromise(),n.add=function(n){if(this.status()!=="unresolved")throw new Error("Cannot add promise to promise colleciton that is already been resolved.");i+=1,n.complete(u),n.error(f)},n},resource:{expandPath:function(n,t){var i,r=t.config.paths;for(i in r)n=n.replace(i,r[i]);return n.replace(/(^\w+:)?\/{2,}/g,function(n,t){return t?n:"/"})},makeResourceId:function(n,i){var u,r;return u=/\.[a-zA-Z]+$/,r=/^\w+:/,n+="",{toPath:function(){var f,u=n;return u=t.resource.expandPath(u,i),u.indexOf("./")===0&&(u=u.substring(2)),u=u.replace(r),u=i.config.baseUrl+u,u.charAt(u.length-1)==="/"||u.length===0?u:(f=u.lastIndexOf("/"),f>0&&(u=u.substring(0,f+1)),"")},toUrl:function(f,e){var s,o=n;return o=t.resource.expandPath(o,i),o.charAt(0)==="/"||r.test(o)||u.test(o)?o:(e=e||".js",s=i.config,f=f||"",f+="",o.indexOf("./")===0&&(o=f+o.substring(2)),o=s.baseUrl+o,o+=e,o+=s.urlArgs)},toString:function(){return n},valueOf:function(){return n}}}},define:{makeContext:function(){var n,t,i;return n={},t={},i={get:function(t){if(typeof t=="string")return n[t]},set:function(i,r){typeof i=="string"&&(n[i]=r,i in t&&(i=t[i],n[i]=r))},contains:function(t){return t in n},alias:function(i,r){typeof i=="string"&&typeof r=="string"&&(t[i]=r,n[r]=n[i])}}},makeConfig:function(n){var r,i;n=t.util.clone(n),n&&typeof n=="object"||(n={}),typeof n.baseUrl=="string"&&n.baseUrl.length!==0?n.baseUrl.charAt(n.baseUrl.length-1)!=="/"&&(n.baseUrl+="/"):n.baseUrl="";if(typeof n.urlArgs=="string")n.urlArgs="?"+n.urlArgs.replace(/^\?/,"");else if(typeof n.urlArgs=="object"){i="";for(r in n.urlArgs)i="&"+r+"="+encodeURIComponent(n.urlArgs[r]+"");i.charAt(0)==="&"&&(i=i.substring(1)),n.urlArgs="?"+i}else n.urlArgs="";return typeof n.paths!="object"&&(n.paths={}),isFinite(n.timeout)&&n.timeout>0||(n.timeout=5e3),n},makeOptions:function(){var n={shouldInspect:function(n){return typeof n.module=="function"&&(!n.imports||n.imports.length===0)},inspect:function(n){var i,t,f,u,s,o,r,e=[];i=n.module.toString(),t=/^function\s*\((.*?)\)/.exec(i)[1];if(t)for(t=t.split(","),s=t.length,u=0;u<s;u++){f=t[u].replace(/^\s+|\s+$/g,"");switch(f){case"require":case"exports":case"module":e.push(f);break;default:throw new Error("Unrecognized dependency '"+f+"' in script: "+i);}}o=/require\(('|")(.+?)\1\)/g,r=o.exec(i);while(r)e.push(r[2]),r=o.exec(i);n.imports=e}};return function(t){var i;return arguments.length>1||typeof t=="function"?(i=f.prototype.slice.call(arguments),t={id:typeof i[0]=="string"?i.shift():"",module:i.pop(),imports:i[0]}):typeof t!="object"?t={module:t}:!t||typeof t!="object"||"module"in t||(t={module:t}),"id"in t&&(typeof t.id!="string"&&(t.id+=""),t.id.indexOf("./")===0&&(t.id=t.id.substring(2))),n.shouldInspect(t)&&n.inspect(t),t}}(),makeRequire:function(n,i){var f,u=/\.[a-zA-Z]+$/,e;return e=function(u,f){var e,s,o;return e=t.makePromise(),s=t.define.makeImporter("",n,u,{},i),o=s.run(),o.complete(function(n){try{n.callFactory(f),e.resolve()}catch(t){e.smash(t)}}),o.error(function(n){e.smash(n),setTimeout(function(){if(typeof r=="function")r(n);else throw n;},1)}),e},f=function(){if(t.util.isArray(arguments[0])){if(typeof arguments[1]=="function")e(arguments[0],arguments[1]);else throw new Error("TypeError: Expected a callback function.");return}if(typeof arguments[0]=="string"){if(arguments[0]==="require")return t.define.makeRequire(n,i);if(!i.contains(arguments[0]))throw new Error("Module does not exist.");return i.get(arguments[0])}throw new Error("TypeError: Expected a module ID.");},f.toUrl=function(r){var e,f,o;if(typeof r=="string"&&u.test(r))return e=r.match(u).pop(),r=r.replace(u,""),f=t.resource.makeResourceId(r,i),f.toUrl(n,e).split("?").shift();throw new Error("TypeError: Expected a module ID of the form 'module-id.extension'.");},f},makeImporter:function(r,u,e,o,s){var h,c,a,v,p,y,l;return v=function(){var n;return n=function(n){return n?n=t.util.isArray(n)?function(){var i,r;i=n.length;while(i--)n[i]=t.resource.makeResourceId(n[i],s);return n}():function(){var r,i;r={};for(i in n)r[i]=t.resource.makeResourceId(n[i],s);return r}():[]},function(t){return n(t)}}(),p=function(r,f){var y,e,v,p,a,c;return e=t.makePromise(),r==="exports"||f.toString()==="exports"?(h[r]=h.exports=o,e.resolve(),e.promise()):r==="require"||f.toString()==="require"?(h[r]=h.require=t.define.makeRequire(u,s),e.resolve(),e.promise()):r==="module"||f.toString()==="module"?(h[r]=h.module={id:""},e.resolve(),e.promise()):(y=setTimeout(function(){e.smash(new Error("Failed to load module due to timeout: "+c))},s.config.timeout),v=function(n){clearTimeout(y),n&&(n.onreadystatechange=null,n.onload=null,n.onerror=null,n.onabort=null)},a=f.toString(),c=f.toUrl(u),p=function(){var t,o,u;t=n.createElement("script"),t.type="text/javascript",u=function(){var u,n;v(t),u=i.dequeue(),n=u(s,a,f.toPath(),c),s[c]=n,n.complete(function(n){delete s[c],s.set(a,n.value),n.id&&s.alias(a,n.id),h[r]=n.value,e.resolve()}),n.error(function(n){e.error(n)})},t.onload=u,t.onreadystatechange=function(){(t.readyState==="complete"||t.readyState==="loaded")&&(v(t),u())},t.onerror=function(){v(t),e.smash(new Error("Failed to load module: "+c))},t.onabort=function(){v(t),e.smash(new Error("Failed to load module: "+c))},t.src=c,o=n.getElementsByTagName("head")[0],o&&o.appendChild(t)},c in s?(h[r]=undefined,e.resolve()):a in s?l(a)?(v(),h[r]=undefined,e.resolve()):(s[a].complete(function(n){v(),h[r]=n.value,e.resolve()}),s[a].error(function(n){v(),e.smash(n)})):p(),e.promise())},y=function(){return t.util.isArray(e)?(h.length=e.length,{qualifiedImports:h,exports:function(){return h.exports},module:function(){return h.module},require:function(){return h.require},callFactory:function(n){var t=f.prototype.slice.call(h);return n.apply(undefined,t)}}):{qualifiedImports:h,exports:function(){return h.exports},module:function(){return h.module},require:function(){return h.require},callFactory:function(n){return n.call(undefined,h)}}},l=function(n){var u,t,i;if(n!==r&&n in s){u=s[n],t=u.imports;if(u.status()!=="unresolved")return!1;for(i in t)if(t[i].toString()===r)return!0;for(i in t)if(l(t[i].toString()))return!0}return!1},c=t.makePromise(),h={},e=v(e),a=!1,{run:function(){if(a)return c.promise();a=!0;var n,r,i;n=t.makePromiseCollection(),i=t.makePromise(),n.add(i);for(r in e)n.add(p(r,e[r]));return n.complete(function(){c.resolve(y())}),n.error(function(n){c.smash(n)}),i.resolve(),c.promise()}}},defer:function(){setTimeout(function(){var n=i.slice();i.clear();while(n.length)n.shift()(null,"","","")},1)}}},u=function(n){var f;return f=function(u){var o,s,h,c;u=t.define.makeOptions.apply(undefined,arguments),h=t.util.arrayIndexOf(u.imports,"exports")>=0?{}:null,o=t.makePromise(),s=t.makePromise(),u.id&&(s.imports=u.imports,n[u.id]=s),c=function(i,c,l,a){var y,v;return f===e&&i&&i!==n?(s=null,delete n[u.id]):(i=n,s.resolve(o)),c=u.id||c||"",y=t.define.makeImporter(c,l,u.imports,h,i),v=y.run(),h&&i.set(c,h),v.complete(function(n){var t;n.module()&&(n.module().id=c,n.module().uri=a),n.require()&&(n.require().main={id:c,uri:a});if(typeof u.module=="function")try{t=n.callFactory(u.module),n.exports()?o.resolve({id:u.id,value:n.exports()}):o.resolve({id:u.id,value:t})}catch(i){o.smash(i);if(typeof r=="function")r(i);else throw i;}else o.resolve({id:u.id,value:u.module})}),v.error(function(n){o.smash(n),setTimeout(function(){if(typeof r=="function")r(n);else throw n;},1)}),o},i.enqueue(c),setTimeout(function(){if(i.length===1){var n=i.slice();i.clear();while(n.length)n.shift()(null,"","","")}},1)},f.config=function(i){var u,r;if(arguments.length){u=t.define.makeConfig(i);for(r in i)i.hasOwnProperty(r)&&(n.config[r]=u[r])}return n.config},f.context=function(n){var i=t.define.makeContext();return i.config=t.define.makeConfig(n),{define:u(i)}},f.error=function(n){r=n},f.amd={basic:!0,require:!0,anon:!0,funcString:!0,plugins:!1,pluginDynamic:!1,multiversion:!0,commoJsAsDefaultImports:!1,importsAsObject:!0,importsAsArray:!0,embeddedScripts:!0},e||(e=f),f},function(){var n=t.define.makeContext();return n.config=t.define.makeConfig(),u(n)}()}(document)